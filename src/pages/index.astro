---
import Layout from '../layouts/Layout.astro';
import SettingsDrawer from '../components/SettingsDrawer.svelte';
import Live2DCanvas from '../components/Live2DCanvas.svelte';
import ChatFooter from '../components/ChatFooter.svelte';
---

<Layout title="WebSocket Client">
  <div id="root" class="min-h-screen bg-slate-900 text-slate-100 flex">
    <!-- Fondo -->
    <main class="relative flex-1 flex flex-col overflow-hidden">
      <!-- Imagen de fondo (absolute detrás de todo) -->
      <img
        class="absolute inset-0 w-full h-full object-cover z-0"
        src="/bg/ceiling-window-room-night.jpeg"
        alt="background"
      />

      <!-- Capa oscura opcional para mejorar contraste -->
      <div class="absolute inset-0 bg-black/40 z-[1]"></div>

      <!-- Contenido encima del fondo -->
      <div class="relative z-10 flex-1 flex flex-col items-center justify-center">
        <Live2DCanvas client:only="svelte" />

        <!-- Estado de conexión -->
        <div class="mt-4 px-3 py-1 rounded-full bg-green-600 text-sm font-medium">
          Connected
        </div>

        <!-- Mensaje de inicio -->
        <div class="mt-2">
          <p class="text-slate-300 text-lg">
            New Conversation Started
          </p>
        </div>
      </div>

      <!-- Footer chat -->
      <ChatFooter client:only="svelte" />
    </main>

    <!-- Drawer de configuración -->
    <SettingsDrawer client:only="svelte" />
  </div>
</Layout>